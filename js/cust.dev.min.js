$.validate({
	lang: 'en'
});

function goBack() {
  window.history.back();
}

/**
|
| DataTable @Lionel Dynamic Code.
|
**/

$(document).ready(function() {
    $('.table-datatable').DataTable();
    $('.dataTables_filter').hide();
    oTable = $('.table-datatable').DataTable();
    //pay attention to capital D, which is mandatory to retrieve "api" datatables' object, as @Lionel said
    $('#Search-field').keyup(function(){
      oTable.search($(this).val()).draw() ;
    })
} );



$(document).ready(function(){
    $('.table-datatable-export').DataTable(
		{
			dom: 'Bfrtip',
			buttons: [
				'copy', 'csv', 'excel',
				
				{
					extend: 'pdfHtml5',
					orientation: 'landscape',
					pageSize: 'LEGAL'
				}
				
			],
			"pageLength": 20
		}
	);
    $('.dataTables_filter').hide();
});




/* $('#example').dataTable( {
  "pageLength": 50
} ); */

/**
|
| Alert Message Code.
|
**/

$(document).ready(function () {
    $(".alert").delay(4000).fadeOut(1000);
});

/**
|
| Alert Message Code.
|
**/
// In your Javascript (external .js resource or <script> tag)
$(document).ready(function() {
    $('.dropdown-search').select2();
});

/**
|
| Load Image Code.
|
**/

function readURL(input) {
$('#preview').css('display','block');
	if (input.files && input.files[0]) {
		//alert(input.files[0]);
	var reader = new FileReader();
		reader.onload = function (e) {
			$('#preview')
			.attr('src', e.target.result)
			.width(160)
			.height(80);
		};
		reader.readAsDataURL(input.files[0]);
	}
}


$(document).ready(function(){
	$('.datepicker').datepicker({
		dateFormat: "dd-mm-yy",
		maxDate: "0",
		changeMonth: true,
		changeYear: true
	});
});


function clearAll() {
   location.href = location.origin.concat(location.pathname);
}


$(function () {
  $('[data-toggle="tooltip"]').tooltip()
})


function createPDF(pdfVaiable) { // not in use.
   var sTable = document.getElementById('print_div').innerHTML;
   var style = "<style>";
   style = style + "table {width: 100%;font: 17px Calibri;}";
   style = style + "table, th, td {border: solid 1px #DDD; border-collapse: collapse;";
   style = style + "padding: 2px 3px;text-align: center;}";
   style = style + "</style>";
   
   var win = window.open('', '', 'height=700,width=700'); // CREATE A WINDOW OBJECT.
   win.document.write('<html><head>');
   win.document.write('<title>'+pdfVaiable+'</title>'); // <title> FOR PDF HEADER.
   win.document.write(style);          // ADD STYLE INSIDE THE HEAD TAG.
   win.document.write('</head>');
   win.document.write('<body>');
   win.document.write(sTable);         // THE TABLE CONTENTS INSIDE THE BODY TAG.
   win.document.write('</body></html>');
   win.document.close();   				// CLOSE THE CURRENT WINDOW.
   win.print();    						// PRINT THE CONTENTS.
}

function exceller(ecxellervariable) { // not in use.
    var uri = 'data:application/vnd.ms-excel;base64,',
      template = '<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',
      base64 = function(s) {
        return window.btoa(unescape(encodeURIComponent(s)))
      },
      format = function(s, c) {
        return s.replace(/{(\w+)}/g, function(m, p) {
          return c[p];
        })
      }
    var toExcel = document.getElementById("excellerId").innerHTML;
    var ctx = {
      worksheet: name || '',
      table: toExcel
    };
    var link = document.createElement("a");
    link.download = ecxellervariable+".xls";
    link.href = uri + base64(format(template, ctx))
    link.click();
}